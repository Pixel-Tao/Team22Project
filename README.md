# Team22Project
플레이어가 중앙의 성을 방어하며 생존, 건설, 자원 관리를 수행하는 전략적 액션 게임입니다.
[다운로드](https://drive.google.com/file/d/12i9w3JOgHRdiL5fDf0CUb5uy7TF7ZvVC/view)


# 필수 구현 기능
1. **자원 수집 및 가공**
    - 자원을 수동 수집하거나 건물일 건설하여 자동으로 수집할 수 있습니다.
    - 자원을 가공 하여 장비 및 음식을 만들어서 사용할 수 있습니다.
2. **식사와 수분 관리** 
    - 플레이어의 굶주림 수치를 관리해야 하고 굶주림 수치가 바닥나면 플레이어의 체력이 지속적으로 감소됩니다.
    - 플레이어의 수분 수치를 관리해야 하고 수분 수치가 바닥나면 스태미나를 회복할 수 없습니다.
3. **건축 및 생존 기지 구축** 
    - 플레이어가 기지 타일에 건물을 건설하고 각 건물의 기능 별로 자동으로 자원을 생성하거나 아이템을 생성 할 수 있습니다.
    - 건축 가능한 건물들을 타일에 연결하여 실제 방어 기지를 건설 할 수 있습니다.
4. **적과의 전투** 
    - 주기적으로 몬스터가 스폰되어 플레이어의 성으로 찾아오게 되며, 하루가 지날때 마다 난이도가 증가합니다.
    - 몬스터는 주변의 적 및 건물을 찾아 공격합니다.
5. **생존 관리 시스템**
    - 시간이 지남에 굶주림과 수분을 소모하며, 전투 시에는 체력을 관리해야합니다.
    - 자원을 수집하여 생존에 필요한 아이템을 구하고 오랫동안 생존해야 합니다.
6. **자원 리스폰** 
    - 자원은 고정 위치에 배치되어 있습니다.
    - 자원 위에 자원 수집 건물을 배치하면 자원이 자동으로 수집됩니다.
    - 자원 수집 건물이 파괴되면 다시 원래 자원형태로 돌아가게 됩니다.

# 선택 구현 기능
1. **환경 요소** 
    - 낮과 밤을 구현하여 밤에 몬스터가 스폰되는 기능을 구현했습니다.
2. **고급 건축 시스템**
    - 생존에 필요한 건물을 건설하여 적을 막고 자원을 채취할 수 있습니다.
    - 건축물을 관리하여 기지를 확장하고 방어할 수 있습니다.
3. **다양한 적 종류**
    - 스폰되는 몬스터는 해골 워리어, 도적, 마법사가 랜덤으로 스폰됩니다.
4. **크래프팅 시스템**
    - 대장간을 통해 착용 가능한 아이템을 제작 가능합니다.
    - 우물 및 시장에서 생존에 필요한 음식과 물을 자원을 소모하여 제공받을 수 있습니다.
5. **고급 AI 시스템**
    - 몬스터의 AI는 건물을 우선 공격하지만 플레이어가 공격을 하게 되면 플레이어를 공격하게 됩니다.
6. **사운드 및 음악**
    - 게임의 전투 사운드 및 배경음악을 재생합니다.


# 추가 구현 기능
1. **맵 에디터 도구** 
    - 3D Hexagon 타일을 Tilemap으로 배치하고, 배치된 타일 위에 필요한 Object를 건설할 수 있는 도구를 직접 추가하여 편의성을 제공 했습니다.
2. **캐릭터 자유 시점**
    - 시네머신을 사용하여 탑뷰 형식과 3인칭 자유 시점으로 플레이 가능합니다.

# 트러블 슈팅

1. **게임 플레이 카메라**
    - 기존 접근 : 단순히 Main Camera를 Player 오브젝트에 자식으로 두어 따라오는 형식으로 하고 회전하지 않도록 하여 접근
    - 문제점 : 게임 컨셉 특성상 카메라와 캐릭터 둘다 회전 시킬 필요가 있었습니다.
    - 해결 : 씨네머신을 사용하여 카메라가 플레이어를 고정적으로 따라오게 하고 캐릭터의 덜덜거림을 damping, deadzone 값을 조절하여 카메라의 추적을 자연스럽게 하고 BuildingMode를 WorldSpace로 하여 캐릭터의 회전을 따라가지 않도록 하고 캐릭터는 마우스의 포인터 위치에 Ray를 쏴서 이동 가능한 타일로 캐릭터가 회전하도록 했습니다.
    - 결과 : 결과적으로 캐릭터의 Rotate와 카메라의 Look, Follow  기능이 기대 이상의 결과를 만들어 낼 수 있었습니다.
